<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Title</title>
    <link rel="stylesheet" href="css/secondfandList.css">
</head>
<body>
    <header>
    <div class="logo"><a href="#"><img src="./image/index/logo.jpg" alt=""></a></div>
    <div class="icon"><a href="./my.html"><img src="./image/index/my.jpg" alt=""></a><a href="#"><img src="./image/index/xiazai.jpg" alt=""></a></div>
</header>
    <section class="search">
        <input type="search" placeholder="请输入小区名或商圈名称">
        <span>|</span>
        <a href="#"><img src="image/SecondHandList/search_03.png" alt=""></a>
    </section>
    <section class="infoList">
        <div class="hide"></div>
        <ul class="list">
            <li>
                <h2><a href="#" >区域<span></span></a></h2>
            </li>
            <li>
                <h2><a href="#">价格<span></span></a></h2>
            </li>
            <li>
                <h2><a href="#" >房型<span></span></a></h2>
            </li>
            <li>
                <h2><a href="#" >更多<span></span></a></h2>
            </li>
        </ul>
        <ul class="somelist">
            <li class="area" style="display: none;">
                <div class="title">
                    <h2 class="active">区域</h2>
                    <h2>地铁</h2>
                </div>
                <div class="areaList">
                    <ul>
                        <li><a href="#">附近</a></li>
                        <li><a class="active" href="#">不限</a></li>
                    </ul>
                    <ul>
                        <li><a href="#">不限</a></li>
                        <li><a href="#">安贞</a></li>
                        <li><a class="active" href="#">朝阳</a></li>
                        <li><a href="#">奥林匹克公园</a></li>
                        <li><a href="#">海淀</a></li>
                        <li><a href="#">百子湾</a></li>
                        <li><a href="#">昌平</a></li>
                        <li><a href="#">北工大</a></li>
                        <li><a href="#">丰台</a></li>
                        <li><a href="#">北苑</a></li>
                        <li><a href="#">石景山</a></li>
                        <li><a href="#">CBD</a></li>
                    </ul>
                </div>
            </li>
            <li class="price" style="display: none;">
                <ul>
                    <li><a href="#">不限</a></li>
                    <li><a href="#">100万以下</a></li>
                    <li><a href="#">100万-150万</a></li>
                    <li><a href="#">150万-200万</a></li>
                    <li><a href="#">200万-250万</a></li>
                    <li><a href="#">250万-300万</a></li>
                    <li><a href="#">自定义价格</a></li>
                </ul>
            </li>
            <li class="house" style="display: none;">
                <ul>
                    <li>不限</li>
                    <li>
                        1室 <span></span>
                    </li>
                    <li>
                        2室 <span class="active"></span>
                    </li>
                    <li>
                        3室 <span></span>
                    </li>
                    <li>
                        4室 <span></span>
                    </li>
                    <li>
                        5室 <span></span>
                    </li>
                    <li><button>确定</button></li>
                </ul>
            </li>
            <li class="more" style="display: none;">
                <ul>
                    <li>
                        <h3>区域</h3>
                        <ul>
                            <li>南</li>
                            <li>南北</li>
                            <li>东</li>
                            <li>西</li>
                            <li>北</li>
                        </ul>
                    </li>
                    <li>
                        <h3>面积（平方）</h3>
                        <ul>
                            <li>50以下</li>
                            <li>50-70</li>
                            <li>70-90</li>
                            <li>90-110</li>
                            <li>110-130</li>
                            <li>130-150</li>
                            <li>150-200</li>
                            <li>200以上</li>
                        </ul>
                    </li>
                    <li>
                        <h3>标签</h3>
                        <ul>
                            <li>学区房</li>
                            <li>地铁房</li>
                            <li>不限购</li>
                            <li>满两年</li>
                            <li>满五唯一</li>
                            <li>降价</li>
                            <li>新上</li>
                            <li>独家</li>
                            <li>有钥匙</li>
                        </ul>
                    </li>
                    <li>
                        <h3>楼龄</h3>
                        <ul>
                            <li>5年以内</li>
                            <li>10年以内</li>
                            <li>10-20年</li>
                            <li>20年以上</li>
                        </ul>
                    </li>
                    <li>
                        <h3>楼层</h3>
                        <ul>
                            <li>低楼层</li>
                            <li>中楼层</li>
                            <li>高楼层</li>
                        </ul>
                    </li>
                    <li class="clear"><a href="#">清空条件</a></li>
                    <li><button>确定</button></li>
                </ul>
            </li>
        </ul>
    </section>
    <section>
        <ul class="house-info">
        </ul>
    </section>
    <footer>
    <h2>北京找房无忧 > 首页</h2>
    <div>
        <ul>
            <li>
                <img src="image/index/apple.png"alt="">
                <div>
                    <p>iPhone</p>
                    <p>客户端</p>
                </div>
            </li>
            <li>
                <img src="image/index/android.png"alt="">
                <div>
                    <p>Android</p>
                    <p>客户端</p>
                </div>
            </li>
        </ul>
        <a href="">
            <p>北京找房无忧房地产经纪公司</p>
            <p>网络经营许可证京ICP备20160812号</p>
        </a>
    </div>
</footer>
    <script src="js/rem.js"></script>
    <script src="js/zepto.js"></script>
    <script src="js/doT.min.js"></script>
    <script>
        var $listLi = $('.list li');
        var $somelistLi = $('.somelist > li');
        $listLi.click(function () {
//        把导航条置于页面最顶端
            $('.list').css({
                'position':'fixed',
                'top':'0',
                'left':'0'
            });
//        出现透明层蒙板
            $('.hide').show();
//        定义当前元素的下标
            var index = $(this).index();
//        给导航上的a元素切换上下箭头及字体颜色
            $listLi.children('h2').children('a').removeClass('light');
            $listLi.children('h2').children('a').children('span').removeClass('red');
            $(this).children('h2').children('a').addClass('light');
            $(this).children('h2').children('a').children('span').addClass('red');

            $somelistLi.hide();
//        因为区域下面使用了flex布局，不能直接用display：none隐藏，所以需要判断
            if(index === 0){
                $somelistLi.eq(index).css('display', 'flex');
            } else {
                $somelistLi.eq(index).show();
            }
//        阻止冒泡
            return false;
        });
        //下面的代码是点击空白区域的时候模板层消失，弹出层消失
        $somelistLi.on('click', function() { return false; });
        $('body').on('click', function() {
            $('.list').css({
                'position':''
            });
            $('.hide').hide();
            $listLi.children('h2').children('a').removeClass('active');
            $somelistLi.hide();
        })
    </script>
    <script id="listdemo" type="text/x-dot-template">
        {{~it:value:index}}
            <li>
                <div><img src="{{=value.img}}" alt=""></div>
                <div>
                    <h2>{{=value.title}}</h2>
                    <p>{{=value.text1}}</p>
                    <p>{{=value.text2}}<strong>{{=value.text3}}</strong></p>
                    <p>{{=value.text4}}</p>
                </div>
            </li>
        {{~}}
    </script>
    <script>
        $.ajax({
            url:'json/tsconfig.json',
            dataType:'json',
            type:'get',
            success:function(res){
                console.log(res);
                //2.调用模版
                var listText = doT.template($('#listdemo').text());
                $('.house-info').html(listText(res));
            }
        });
</script>
</body>
</html>